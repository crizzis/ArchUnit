ext.moduleName = 'com.tngtech.archunit.example'

[
        project(':archunit-example:example-plain'),
        project(':archunit-example:example-junit4'),
        project(':archunit-example:example-junit5')
].each {
    proj ->
        productionProjects.each { proj.compileTestJava.dependsOn(it.finishArchive) }

        addTestJarTo proj

        proj.with {
            dependencies {
                compile dependency.jodaTime
                compile dependency.javaxAnnotationApi
                compile dependency.springBeans
                compile dependency.guice
                compile dependency.geronimoEjb
                compile dependency.geronimoJpa

                testCompile project(path: ':archunit')
            }
        }
}
